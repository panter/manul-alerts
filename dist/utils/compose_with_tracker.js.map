{"version":3,"sources":["../../src/utils/compose_with_tracker.js"],"names":["composeWithTracker","reactiveFn","L","E","options","onPropsChange","props","onData","context","trackerCleanup","handler","Tracker","nonreactive","autorun","stop"],"mappings":";;;;;kBAEwBA,kB;;AAFxB;;AACA;AACe,SAASA,kBAAT,CAA4BC,UAA5B,EAAwCC,CAAxC,EAA2CC,CAA3C,EAA8CC,OAA9C,EAAuD;AACpE,MAAMC,gBAAgB,SAAhBA,aAAgB,CAACC,KAAD,EAAQC,MAAR,EAAgBC,OAAhB,EAA4B;AAChD,QAAIC,uBAAJ;AACA,QAAMC,UAAUC,QAAQC,WAAR,CAAoB;AAAA,aAClCD,QAAQE,OAAR,CAAgB,YAAM;AACpBJ,yBAAiBR,WAAWK,KAAX,EAAkBC,MAAlB,EAA0BC,OAA1B,CAAjB;AACD,OAFD,CADkC;AAAA,KAApB,CAAhB;;AAMA,WAAO,YAAM;AACX,UAAI,OAAOC,cAAP,KAA0B,UAA9B,EAA0C;AACxCA;AACD;AACD,aAAOC,QAAQI,IAAR,EAAP;AACD,KALD;AAMD,GAdD;;AAgBA,SAAO,iCAAQT,aAAR,EAAuBH,CAAvB,EAA0BC,CAA1B,EAA6BC,OAA7B,CAAP;AACD","file":"compose_with_tracker.js","sourcesContent":["import { compose } from 'manul-react-komposer';\n/* eslint no-undef: 0*/\nexport default function composeWithTracker(reactiveFn, L, E, options) {\n  const onPropsChange = (props, onData, context) => {\n    let trackerCleanup;\n    const handler = Tracker.nonreactive(() =>\n      Tracker.autorun(() => {\n        trackerCleanup = reactiveFn(props, onData, context);\n      }),\n    );\n\n    return () => {\n      if (typeof trackerCleanup === 'function') {\n        trackerCleanup();\n      }\n      return handler.stop();\n    };\n  };\n\n  return compose(onPropsChange, L, E, options);\n}\n"]}